
- homebrew:
    name:
      - python3

- name: set variables
  set_fact:
    python3_packages:
      - isort
      - black
      - python-lsp-server[all]

- name: create python symbolic link
  file:
    src: "/home/linuxbrew/.linuxbrew/bin/python3"
    dest: "{{ home_dir }}/.local/bin/python"
    state: link
  when: is_ubuntu

- name: create pip symbolic link
  file:
    src: "/home/linuxbrew/.linuxbrew/bin/pip3"
    dest: "{{ home_dir }}/.local/bin/pip"
    state: link
  when: is_ubuntu

- pip:
    name: "{{ python3_packages }}"
    executable: "/home/linuxbrew/.linuxbrew/bin/pip3"
